<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Nov 1, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Meccano - 
    Hands On</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20121101" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="index.html" id="bannerLeft">
                                                <img src="images/meccano.png" alt="Meccano" title="ask for copyright to Meccano inc" />
                </a>
                          <div id="bannerRight">
                Modular Servlet Applications
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-11-01</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0</span>
                      </div>
            <div class="xright">                    <a href="https://github.com/turiot/meccano" class="externalLink" title="Github">Github</a>
            |
                        <a href="http://java.orfanik.com/" class="externalLink" title="Blog">Blog</a>
            |
                        <a href="http://www.meccano.com/la-marque/histoire.html" class="externalLink" title="Tribute">Tribute</a>
              
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Meccano</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Purpose">Purpose</a>
            </li>
                  <li class="none">
                          <a href="implementation.html" title="Technic">Technic</a>
            </li>
                                                                                                        <li class="collapsed">
                          <a href="examples.html" title="Examples">Examples</a>
                  </li>
                  <li class="none">
            <strong>Hands on</strong>
          </li>
                  <li class="none">
                          <a href="todo.html" title="Todo">Todo</a>
            </li>
                  <li class="none">
                          <a href="afterword.html" title="Afterword">Afterword</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="bridge-core/index.html" title="bridge core">bridge core</a>
            </li>
                  <li class="none">
                          <a href="bridge-tomcat/index.html" title="bridge tomcat">bridge tomcat</a>
            </li>
                  <li class="none">
                          <a href="bridge-web/index.html" title="bridge web">bridge web</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
  
    <div class="section"><h2>Modules<a name="Modules"></a></h2>
      <div class="section"><h3>bridge<a name="bridge"></a></h3>
        <p>This the main module of Meccano</p>
        <ul>
          <li>bridge-core contains the registries shared by all applications</li>
          <li>bridge-tomcat contains the asynchronous listener and custom classloader implemented by applications</li>
          <li>bridge-web is the application wich puts registries in the Tomcat shared path</li>
        </ul>
      </div>
      <div class="section"><h3>tests<a name="tests"></a></h3>
        <p>A few demonstration applications, composed of an api, and three applications : an api wrapper, a service and a client.</p>
      </div>
      <div class="section"><h3>integration<a name="integration"></a></h3>
        <p>An integration test, able to download and start a Tomcat instance, deploy applications (bridge and test) and to check status and calling client.</p>
      </div>
      <div class="section"><h3>aggregator<a name="aggregator"></a></h3>
        <p>A convenience maven aggregator to build submodules and launch integration tests.</p>
      </div>
      <div class="section"><h3>archetype<a name="archetype"></a></h3>
        <p>Four maven archetypes to ease the creation of a typical multi part application (api,wrapper,service and client).</p>
      </div>
    </div>
    <div class="section"><h2>Artifacts<a name="Artifacts"></a></h2>
      <p>The artifacts can be found on my Github repository.</p>
      <p>Add this to your pom :</p>
      <div class="source"><pre>
         
          &lt;repositories&gt;
            &lt;repository&gt;
              &lt;id&gt;turiot&lt;/id&gt;
              &lt;url&gt;https://github.com/turiot/mavenrepo/raw/master/releases&lt;/url&gt;
            &lt;/repository&gt;
          &lt;/repositories&gt;
        
      </pre></div>
    </div>
    <div class="section"><h2>How to<a name="How_to"></a></h2>
      <div class="section"><h3>Maven<a name="Maven"></a></h3>
        <p>We need maven 3 to build the project.</p>
        <p>Be patient the first time, although we use minimal dependencies (serlet and cargo) maven will download several plugins, 
           to create a few kilobytes wars : that's Java brewing :)
        </p>
      </div>
      <div class="section"><h3>Building<a name="Building"></a></h3>
        <p>Go to bridge-parent and issue the following command : mvn install</p>
        <p>For future archetypes usage do the same thing in archetype module.</p>
        <p>To build tests and launch integration tests, you can go to aggregator module, update settings.xml (for jdk version and tomcat home) and launch<br />
          mvn clean install verify -DskipTests=false -s settings.xml
        </p>
      </div>
      <div class="section"><h3>Using archetype<a name="Using_archetype"></a></h3>
        <p>The following cammond</p>
        <p>
          mvn archetype:generate -DarchetypeGroupId=meccano -DarchetypeArtifactId=archetype -DarchetypeVersion=1.0 -DgroupId=mygroup -DartifactId=myartifact -Dversion=1.0 -Dpackage=mypackage
        </p>
        <p>will create a maven project with 4 modules (api,common,client and service).</p>
      </div>
      <div class="section"><h3>Starting from scratch<a name="Starting_from_scratch"></a></h3>
        <p>Create an api module : service interface and business model classes used by service and client, packed as a jar.</p>
        <p>Create a wrapper for deploying this api jar, using archetype or copying a test example : a simple web application
           with an asynchronous listener (cf web.xml) and a meccano.properties containg the name of the api (this will refer the api jar
           in the api registry).
        </p>
        <p>Create a web application for the service : service implementation, web.xml like previous one and in meccano.properties references 
           to the needed api and the offered service (this will be used in the service registry).
        </p>
        <p>Create a web application for the client : client implementation, web.xml like previous one and in meccano.properties references 
           to the needed api and need service.
        </p>
        <p>Deploy the bridge war and your 3 created wars and enjoy !</p>
      </div>
      <div class="section"><h3>Existing application<a name="Existing_application"></a></h3>
        <p>Extract interface and model into an api module (jar) from the original application.</p>
        <p>Create a wrapper for deploying this api.</p>
        <p>Create a service application.</p>
        <p>Update original application to insert an asynchrnous listener, and configure it (api and and service needed) in meccano.properties.</p>
        <p>Put possible original listeners into configuration as custom listners</p>
      </div>
    </div>
  
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              <?xml version="1.0" encoding="UTF-8"?>
<footer></footer>
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
